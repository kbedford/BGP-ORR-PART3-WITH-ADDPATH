name: bgp-orr-4rr

topology:
  defaults:
    kind: juniper_crpd
    image: crpd:24.4R2-S3.5
  nodes:
    rr1:
      startup-config: configs/rr1.conf
    rr2:
      startup-config: configs/rr2.conf
    rr3:
      startup-config: configs/rr3.conf
    rr4:
      startup-config: configs/rr4.conf
    a1:
      startup-config: configs/a1.conf
    a2:
      startup-config: configs/a2.conf
    b1:
      startup-config: configs/b1.conf
    b2:
      startup-config: configs/b2.conf
    c1:
      startup-config: configs/c1.conf
    c2:
      startup-config: configs/c2.conf
    d1:
      startup-config: configs/d1.conf
    d2:
      startup-config: configs/d2.conf

  links:
    - endpoints: ["rr1:eth1", "rr2:eth1"]
    - endpoints: ["rr2:eth2", "rr3:eth1"]
    - endpoints: ["rr3:eth2", "rr4:eth1"]
    - endpoints: ["rr4:eth2", "rr1:eth2"]

    - endpoints: ["rr1:eth3", "a1:eth1"]
    - endpoints: ["rr4:eth5", "a1:eth2"]
    - endpoints: ["rr1:eth4", "a2:eth1"]
    - endpoints: ["rr4:eth6", "a2:eth2"]

    - endpoints: ["rr2:eth3", "b1:eth1"]
    - endpoints: ["rr1:eth5", "b1:eth2"]
    - endpoints: ["rr2:eth4", "b2:eth1"]
    - endpoints: ["rr1:eth6", "b2:eth2"]

    - endpoints: ["rr3:eth3", "c1:eth1"]
    - endpoints: ["rr2:eth5", "c1:eth2"]
    - endpoints: ["rr3:eth4", "c2:eth1"]
    - endpoints: ["rr2:eth6", "c2:eth2"]

    - endpoints: ["rr4:eth3", "d1:eth1"]
    - endpoints: ["rr3:eth5", "d1:eth2"]
    - endpoints: ["rr4:eth4", "d2:eth1"]
    - endpoints: ["rr3:eth6", "d2:eth2"]
